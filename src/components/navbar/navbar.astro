---
import { Image } from "@astrojs/image/components";
import logo from "/logo/logo-no-background.svg";

// import Link from "@components/ui/link.astro";
import Dropdown from "./dropdown.astro";
import BurgerIcon from "../ui/icons/burger.astro";
import TimesIcon from "../ui/icons/times.astro";

const menuitems = [
  {
    title: "Features",
    path: "#",
    options: [
      { title: "Action", path: "#" },
      { title: "Another action", path: "#" },
      { title: "Dropdown Submenu", path: "#" },
    ],
    hidden: true,
  },
  {
    title: "Servicios",
    path: "/services",
    hidden: true,
  },
  {
    title: "Blog",
    path: "/blog",
  },
  {
    title: "Nosotros",
    path: "/about",
  },
  {
    title: "Portafolio",
    path: "/portfolio",
    disabled: true,
  },
    {
      title: "Precios",
      path: "/pricing",
    },
  {
    title: "Contacto",
    path: "/contact",
  },
];
---

<header class="max-w-screen-sm lg:max-w-screen-xl w-full lg:w-auto mx-auto p-5 relative flex flex-col lg:flex-row gap-x-16 gap-y-5">
  <div class="flex items-center justify-between gap-5 min-w-[180px]">
    <a href="/" class="text-lg">
      <Image src={logo} width={180} height={40} format="png" alt="Summit Software" />
    </a>
    <label class="relative w-4 h-4 text-gray-800 cursor-pointer lg:hidden">
      <input type="checkbox" class="nephew/toggler peer/toggler secret">
      <BurgerIcon id="burger" class="peer-checked/toggler:opacity-0 absolute inset-0 w-full transition-opacity"  />
      <TimesIcon id="times" class="opacity-0 peer-checked/toggler:opacity-100 absolute inset-0 w-full transition-opacity" />
    </label>
  </div>
  <nav class="h-0 nephew-checked/toggler:h-full overflow-hidden lg:overflow-visible transition-height duration-200 w-full">
    <ul class="flex flex-col lg:flex-row lg:gap-3">
      {menuitems.filter(({hidden}) => !hidden).map((item, index) => (
        item.options ? (
          <Dropdown
            title={item.title}
            options={item.options}
            lastItem={index === menuitems.length - 1}
          />
        ) : (
          <li>
            <a
              href={item.disabled ? '#' : item.path}
              class="flex p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-200 lg:hover:bg-gray-100 rounded"
            >
              {item.title}
            </a>
          </li>
        )
      ))}
    </ul>
    <!-- <div class="lg:hidden flex items-center mt-3 gap-4">
      <Link href="#" style="muted" block size="md">Log in</Link>
      <Link href="#" size="md" block>Sign up</Link>
    </div> -->
  </nav>
</header>
